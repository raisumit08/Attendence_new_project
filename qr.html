<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>

    <title>Document</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      background-image: url("https://wallpapercave.com/dwp1x/fto5lYX.jpg");
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #qrcodes {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100vw;
    }
  </style>

  <body>
    <div id="qrcodes"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    <script>
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDioQ5FOzeKMwpBYvv6FGWMtX3Pm1DTGEQ",
        authDomain: "attendance-cb801.firebaseapp.com",
        databaseURL: "https://attendance-cb801-default-rtdb.firebaseio.com",
        projectId: "attendance-cb801",
        storageBucket: "attendance-cb801.appspot.com",
        messagingSenderId: "1076335537180",
        appId: "1:1076335537180:web:d94e8466df91ce505a83d9",
        measurementId: "G-HGYLFRY02C",
      };

      firebase.initializeApp(firebaseConfig);
      var newCode = firebase.database().ref("checkValidity");

      var i = 1;
      let url = "a";

      const baseUrl = "https://Kaint";

      // The container element for the QR codes
      const container = document.getElementById("qrcodes");
      setInterval(() => {
        newCode.remove();
        const qrCode = document.createElement("div");
        let x = Math.floor(Math.random() * (36 - 2 + 1)) + 2;
        let y = Math.floor(Math.random() * (7 - 3 + 1)) + 3;
        const identifier = Math.random().toString(x).substring(y);

        url = `${baseUrl}?id=${identifier}`;

        NewCode = newCode.push();

        NewCode.set({
          key: url,
        });

        new QRCode(qrCode, {
          text: url,
          width: 400,
          height: 400,
        });

        // Append the QR code element to the container
        container.appendChild(qrCode);
        setTimeout(() => {
          container.innerHTML = "";
        }, 4000);
      }, 7000);
    </script>
  </body>
</html>
